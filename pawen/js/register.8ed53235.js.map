{"version":3,"sources":["webpack:///./src/views/register/register.vue?673d","webpack:///src/views/register/register.vue","webpack:///./src/views/register/register.vue?6d65","webpack:///./src/views/register/register.vue","webpack:///./src/services/user.js","webpack:///./src/views/register/register.vue?c791"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","ruleForm","rules","model","value","callback","$$v","$set","expression","_n","isLoginLoading","on","$event","submitForm","_v","resetForm","staticRenderFns","isValid","isValid2","component","login","data","request","headers","method","url","JSON","stringify","register","getUserInfo","params","username","store","state","user"],"mappings":"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","file":"js/register.8ed53235.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"register\"},[_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.ruleForm,\"status-icon\":\"\",\"rules\":_vm.rules,\"label-width\":\"80px\",\"label-position\":\"top\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"username\"}},[_c('el-input',{attrs:{\"type\":\"primary\",\"autocomplete\":\"off\"},model:{value:(_vm.ruleForm.username),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"username\", $$v)},expression:\"ruleForm.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"pass\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"autocomplete\":\"off\"},model:{value:(_vm.ruleForm.pass),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"pass\", $$v)},expression:\"ruleForm.pass\"}})],1),_c('el-form-item',{attrs:{\"label\":\"确认密码\",\"prop\":\"checkPass\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"autocomplete\":\"off\"},model:{value:(_vm.ruleForm.checkPass),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"checkPass\", $$v)},expression:\"ruleForm.checkPass\"}})],1),_c('el-form-item',{attrs:{\"label\":\"昵称\",\"prop\":\"nickname\"}},[_c('el-input',{model:{value:(_vm.ruleForm.nickname),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"nickname\", _vm._n($$v))},expression:\"ruleForm.nickname\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.isLoginLoading},on:{\"click\":function($event){return _vm.submitForm('ruleForm')}}},[_vm._v(\"提交\")]),_c('br'),_c('br'),_c('el-button',{on:{\"click\":function($event){return _vm.resetForm('ruleForm')}}},[_vm._v(\"重置\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"register\">\r\n      <el-form :model=\"ruleForm\" status-icon :rules=\"rules\" ref=\"ruleForm\" label-width=\"80px\"\r\n      label-position=\"top\" class=\"demo-ruleForm\">\r\n    <el-form-item label=\"用户名\" prop=\"username\">\r\n    <el-input type=\"primary\" v-model=\"ruleForm.username\" autocomplete=\"off\"></el-input>\r\n  </el-form-item>\r\n  <el-form-item label=\"密码\" prop=\"pass\">\r\n    <el-input type=\"password\" v-model=\"ruleForm.pass\" autocomplete=\"off\"></el-input>\r\n  </el-form-item>\r\n  <el-form-item label=\"确认密码\" prop=\"checkPass\">\r\n    <el-input type=\"password\" v-model=\"ruleForm.checkPass\" autocomplete=\"off\"></el-input>\r\n  </el-form-item>\r\n  <el-form-item label=\"昵称\" prop=\"nickname\">\r\n    <el-input v-model.number=\"ruleForm.nickname\"></el-input>\r\n  </el-form-item>\r\n  <el-form-item>\r\n    <el-button type=\"primary\" @click=\"submitForm('ruleForm')\" :loading=\"isLoginLoading\">提交</el-button>\r\n    <br>\r\n    <br>\r\n    <el-button @click=\"resetForm('ruleForm')\">重置</el-button>\r\n  </el-form-item>\r\n</el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { register } from '@/services/user'\r\nexport default {\r\n    data() {\r\n      var checkUserName = (rule, value, callback) => {\r\n        if (!value) {\r\n          return callback(new Error('用户名不能为空'));\r\n        }\r\n        setTimeout(() => {\r\n          if (!this.isValid(value)) {\r\n            callback(new Error('用户名只能由数字、字母和下划线组成'));\r\n          } else {\r\n            callback()\r\n          }\r\n        }, 1000);\r\n      };\r\n      var checkNickName = (rule, value, callback) => {\r\n        if (!value) {\r\n          return callback(new Error('昵称不能为空'));\r\n        }\r\n        setTimeout(() => {\r\n          if (!this.isValid2(value)) {\r\n            callback(new Error('用户昵称只能由数字、字母和汉字组成'));\r\n          } else {\r\n            callback()\r\n          }\r\n        }, 1000);\r\n      };\r\n\r\n      var validatePass = (rule, value, callback) => {\r\n        if (value === '') {\r\n          callback(new Error('请输入密码'));\r\n        }else {\r\n          if (this.ruleForm.checkPass !== '') {\r\n            this.$refs.ruleForm.validateField('checkPass');\r\n          }\r\n          callback();\r\n        }\r\n      };\r\n      var validatePass2 = (rule, value, callback) => {\r\n        if (value === '') {\r\n          callback(new Error('请再次输入密码'));\r\n        } else if (value !== this.ruleForm.pass) {\r\n          callback(new Error('两次输入密码不一致!'));\r\n        } else {\r\n          callback();\r\n        }\r\n      };\r\n      return {\r\n        isLoginLoading: false,\r\n        ruleForm: {\r\n          nickname: '',\r\n          username: '',\r\n          pass: '',\r\n          checkPass: ''\r\n        },\r\n        rules: {\r\n          pass: [\r\n            { validator: validatePass, trigger: 'blur' },\r\n            { min: 6, max: 18, message: '密码长度为 6 到 18 位', trigger: 'blur' }\r\n          ],\r\n          checkPass: [\r\n            { validator: validatePass2, trigger: 'blur' }\r\n          ],\r\n          username: [\r\n            { validator: checkUserName, trigger: 'blur' }\r\n          ],\r\n          nickname: [\r\n              {validator: checkNickName,trigger: 'blur'}\r\n          ]\r\n        }\r\n      };\r\n    },\r\n    methods: {\r\n    isValid(str) { return /^\\w+$/.test(str); },\r\n    isValid2(str){return /^(\\w|[\\u4E00-\\u9FA5])*$/.test(str);},\r\n    async  submitForm(formName) {\r\n       await this.$refs.ruleForm.validate()\r\n       this.isLoginLoading = true\r\n        const { data } = await register(this.ruleForm)\r\n        this.isLoginLoading = false\r\n        if (data.code === 20000) {\r\n        this.$message.success('注册成功')\r\n         this.$router.push('login')\r\n        } else {\r\n          this.$message.error('用户名重复')\r\n        }\r\n\r\n      },\r\n      resetForm(formName) {\r\n        this.$refs[formName].resetFields();\r\n      }\r\n    }\r\n  }\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n    .register {\r\n  height: 100vh;\r\n  display: flex;\r\n  // 设置内部元素垂直水平居中\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  .el-form {\r\n    background-color: #fff;\r\n    padding: 20px;\r\n    width: 300px;\r\n    border-radius: 10px;\r\n\r\n    .el-button {\r\n      width: 100%;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./register.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./register.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./register.vue?vue&type=template&id=d515b698&scoped=true&\"\nimport script from \"./register.vue?vue&type=script&lang=js&\"\nexport * from \"./register.vue?vue&type=script&lang=js&\"\nimport style0 from \"./register.vue?vue&type=style&index=0&id=d515b698&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d515b698\",\n  null\n  \n)\n\nexport default component.exports","import request from '@/utils/request'\r\nimport qs from 'qs'\r\nimport store  from '../store';\r\n\r\n// 用户登录接口\r\nexport const login = data => {\r\n\r\n  return request({\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    method: 'POST',\r\n    url: 'http://139.196.157.116:7788/Glogin/login/login',\r\n    data: JSON.stringify(data)\r\n  })\r\n}\r\nexport const register = data => {\r\n\r\n  return request({\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    method: 'POST',\r\n    url: 'http://139.196.157.116:7788/Glogin/login/register',\r\n    data: JSON.stringify(data)\r\n  })\r\n}\r\nexport const getUserInfo = () => {\r\n  \r\n  return request({\r\n    method: 'GET',\r\n    url: 'http://139.196.157.116:7788/Glogin/login/getInfo',\r\n    params: {\r\n      username: store.state.user.username\r\n    }\r\n  })\r\n}\r\n\r\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./register.vue?vue&type=style&index=0&id=d515b698&lang=scss&scoped=true&\""],"sourceRoot":""}